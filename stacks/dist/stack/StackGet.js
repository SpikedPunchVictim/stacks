"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.StackGet = void 0;
class StackGet {
    constructor(context) {
        this.context = context;
    }
    get cache() {
        return this.context.cache;
    }
    get orchestrator() {
        return this.context.orchestrator;
    }
    async model(name) {
        return this.cache.getModel(name);
    }
    async modelById(id) {
        return this.cache.getModelById(id);
    }
    models() {
        return this.cache.models;
    }
    async object(modelName, id) {
        let model = this.cache.getModel(modelName);
        if (model === undefined) {
            throw new Error(`Encountered an error when retrieving an object. No Model with the name ${modelName} exists.`);
        }
        return this.orchestrator.getObject(model, id);
    }
}
exports.StackGet = StackGet;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RhY2tHZXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc3RhY2svU3RhY2tHZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBbUNBLE1BQWEsUUFBUTtJQVNsQixZQUFxQixPQUFzQjtRQUF0QixZQUFPLEdBQVAsT0FBTyxDQUFlO0lBRTNDLENBQUM7SUFWRCxJQUFJLEtBQUs7UUFDTixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDYixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFBO0lBQ25DLENBQUM7SUFNRCxLQUFLLENBQUMsS0FBSyxDQUFDLElBQVk7UUFDckIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRUQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFVO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUE7SUFDckMsQ0FBQztJQUVELE1BQU07UUFDSCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFBO0lBQzNCLENBQUM7SUFFRCxLQUFLLENBQUMsTUFBTSxDQUF3QixTQUFpQixFQUFFLEVBQVU7UUFDOUQsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUE7UUFFMUMsSUFBRyxLQUFLLEtBQUssU0FBUyxFQUFFO1lBQ3JCLE1BQU0sSUFBSSxLQUFLLENBQUMsMEVBQTBFLFNBQVMsVUFBVSxDQUFDLENBQUE7U0FDaEg7UUFFRCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFJLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUNuRCxDQUFDO0NBQ0g7QUFsQ0QsNEJBa0NDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhY2tPYmplY3QgfSBmcm9tIFwiLi4vU3RhY2tPYmplY3RcIjtcbmltcG9ydCB7IElDYWNoZSB9IGZyb20gXCIuLi9DYWNoZVwiO1xuaW1wb3J0IHsgSU1vZGVsIH0gZnJvbSBcIi4uL01vZGVsXCI7XG5pbXBvcnQgeyBJT3JjaGVzdHJhdG9yIH0gZnJvbSBcIi4uL29yY2hlc3RyYXRvci9PcmNoZXN0cmF0b3JcIjtcbmltcG9ydCB7IElTdGFja0NvbnRleHQgfSBmcm9tIFwiLi9TdGFja0NvbnRleHRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJU3RhY2tHZXQge1xuICAgLyoqXG4gICAgKiBHZXRzIGEgTW9kZWwgYnkgbmFtZVxuICAgICogXG4gICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgTW9kZWxcbiAgICAqL1xuICAgbW9kZWwobmFtZTogc3RyaW5nKTogUHJvbWlzZTxJTW9kZWwgfCB1bmRlZmluZWQ+XG4gICBcbiAgIC8qKlxuICAgICogR2V0cyBhIE1vZGVsIGJ5IElEXG4gICAgKiBcbiAgICAqIEBwYXJhbSBpZCBUaGUgTW9kZWwncyBJRFxuICAgICovXG4gICBtb2RlbEJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8SU1vZGVsIHwgdW5kZWZpbmVkPlxuICAgXG4gICAvKipcbiAgICAqIEdldHMgYWxsIE1vZGVsc1xuICAgICovXG4gICBtb2RlbHMoKTogSU1vZGVsW11cblxuICAgLyoqXG4gICAgKiBHZXRzIGEgTW9kZWwncyBPYmplY3RcbiAgICAqIFxuICAgICogQHBhcmFtIG1vZGVsTmFtZSBNb2RlbCdzIG5hbWVcbiAgICAqIEBwYXJhbSBpZCBUaGUgT2JqZWN0J3MgSURcbiAgICAqL1xuICAgb2JqZWN0PFQgZXh0ZW5kcyBTdGFja09iamVjdD4obW9kZWxOYW1lOiBzdHJpbmcsIGlkOiBzdHJpbmcpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+XG59XG5cbmV4cG9ydCBjbGFzcyBTdGFja0dldCBpbXBsZW1lbnRzIElTdGFja0dldCB7XG4gICBnZXQgY2FjaGUoKTogSUNhY2hlIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuY2FjaGVcbiAgIH1cblxuICAgZ2V0IG9yY2hlc3RyYXRvcigpOiBJT3JjaGVzdHJhdG9yIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQub3JjaGVzdHJhdG9yXG4gICB9XG5cbiAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IGNvbnRleHQ6IElTdGFja0NvbnRleHQpIHtcblxuICAgfVxuXG4gICBhc3luYyBtb2RlbChuYW1lOiBzdHJpbmcpOiBQcm9taXNlPElNb2RlbCB8IHVuZGVmaW5lZD4ge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0TW9kZWwobmFtZSlcbiAgIH1cblxuICAgYXN5bmMgbW9kZWxCeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPElNb2RlbCB8IHVuZGVmaW5lZD4ge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0TW9kZWxCeUlkKGlkKVxuICAgfVxuXG4gICBtb2RlbHMoKTogSU1vZGVsW10ge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGUubW9kZWxzXG4gICB9XG5cbiAgIGFzeW5jIG9iamVjdDxUIGV4dGVuZHMgU3RhY2tPYmplY3Q+KG1vZGVsTmFtZTogc3RyaW5nLCBpZDogc3RyaW5nKTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPiB7XG4gICAgICBsZXQgbW9kZWwgPSB0aGlzLmNhY2hlLmdldE1vZGVsKG1vZGVsTmFtZSlcblxuICAgICAgaWYobW9kZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGVuIHJldHJpZXZpbmcgYW4gb2JqZWN0LiBObyBNb2RlbCB3aXRoIHRoZSBuYW1lICR7bW9kZWxOYW1lfSBleGlzdHMuYClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMub3JjaGVzdHJhdG9yLmdldE9iamVjdDxUPihtb2RlbCwgaWQpXG4gICB9ICAgXG59Il19